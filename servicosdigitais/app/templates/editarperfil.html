<section class="container mt-4" id="container-editar-perfil" style="display: none;">
    <hr>

    <div class="row justify-content-center">
        <div class="col-12 col-md-6">

            <form method="POST" enctype="multipart/form-data" class="border rounded p-4 shadow-sm bg-white">
                {{ form.csrf_token }}

                <h3 class="mb-3">Editar Perfil</h3>
                <p class="small text-muted mb-3">
                    Não é preciso preencher tudo — deixe em branco os campos que não deseja alterar.
                    Campos sensíveis (CPF/CNPJ) não podem ser alterados aqui.
                </p>

                <fieldset>

                    {% if form.nome is defined %}
                        <div class="form-group mb-3">
                            {{ form.nome.label(class="form-control-label") }}
                            {{ form.nome(class="form-control", placeholder="Seu nome") }}
                        </div>
                    {% elif form.username is defined %}
                        <div class="form-group mb-3">
                            {{ form.username.label(class="form-control-label") }}
                            {{ form.username(class="form-control", placeholder="Seu nome") }}
                        </div>
                    {% elif form.nome_empresa is defined %}
                        <div class="form-group mb-3">
                            {{ form.nome_empresa.label(class="form-control-label") }}
                            {{ form.nome_empresa(class="form-control", placeholder="Nome ou fantasia da empresa") }}
                        </div>
                    {% endif %}

                    {% if form.sobrenome is defined %}
                        <div class="form-group mb-3">
                            {{ form.sobrenome.label(class="form-control-label") }}
                            {{ form.sobrenome(class="form-control", placeholder="Seu sobrenome") }}
                        </div>
                    {% endif %}

                    {% if form.razao_social is defined %}
                        <div class="form-group mb-3">
                            {{ form.razao_social.label(class="form-control-label") }}
                            {{ form.razao_social(class="form-control", placeholder="Razão social") }}
                        </div>
                    {% endif %}

                    {% if form.telefone is defined %}
                        <div class="form-group mb-3">
                            {{ form.telefone.label(class="form-control-label") }}
                            {{ form.telefone(class="form-control", placeholder="(DD) 9 9999-9999") }}
                        </div>
                    {% endif %}

                    {% if form.descricao is defined %}
                        <div class="form-group mb-3">
                            {{ form.descricao.label(class="form-control-label") }}
                            {{ form.descricao(class="form-control", rows="3", placeholder="Breve descrição (até 600 caracteres)") }}
                        </div>
                    {% endif %}

                    {% if form.email is defined %}
                        <div class="form-group mb-3">
                            {{ form.email.label(class="form-control-label") }}
                            {{ form.email(class="form-control", placeholder="seu@exemplo.com") }}
                        </div>
                    {% endif %}

                    {% if form.foto_perfil is defined %}
                        <div class="form-group mb-3">
                            {{ form.foto_perfil.label(class="form-control-label") }}
                            {{ form.foto_perfil(class="form-control") }}
                        </div>
                    {% endif %}

                    {% if form.senha_atual is defined %}
                        <hr>
                        <h6 class="mb-2">Alterar senha (opcional)</h6>
                        <div class="form-group mb-3">
                            {{ form.senha_atual.label(class="form-control-label") }}
                            {{ form.senha_atual(class="form-control", placeholder="Senha atual") }}
                        </div>
                    {% endif %}

                    {% if form.senha_nova is defined %}
                        <div class="form-group mb-3">
                            {{ form.senha_nova.label(class="form-control-label") }}
                            {{ form.senha_nova(class="form-control", placeholder="Nova senha (mín. 6 caracteres)") }}
                        </div>
                    {% endif %}

                    {% if form.confirmacao_senha is defined %}
                        <div class="form-group mb-3">
                            {{ form.confirmacao_senha.label(class="form-control-label") }}
                            {{ form.confirmacao_senha(class="form-control", placeholder="Confirme a nova senha") }}
                        </div>
                    {% endif %}

                </fieldset>

                <div class="mt-3">
                    <button type="submit" class="btn btn-primary w-100">Salvar alterações</button>
                </div>
            </form>

        </div>
    </div>
</section>
