<!-- ==========================================================
DETALHES DO USUÁRIO
========================================================== -->

<!-- ==========================================================
BOTÃO VOLTAR
========================================================== -->
<div class="d-flex justify-content-end mb-3">
    <a href="{{ url_for('admin.listar_usuarios', tipo=tipo_selecionado) }}"
       class="btn btn-voltar">
        Voltar
    </a>
</div>

<!-- ==========================================================
TÍTULO
========================================================== -->
<h4 class="mb-4">Detalhes do Usuário</h4>

<div class="card-cinza d-flex justify-content-between align-items-start gap-4">

    <!-- ======================================================
    INFORMAÇÕES DO USUÁRIO
    ======================================================= -->
    <div class="usuario-info">

        <p><strong>Nome:</strong> {{ usuario_detalhe.nome }}</p>
        <p><strong>Email:</strong> {{ usuario_detalhe.email }}</p>
        <p><strong>Tipo:</strong> {{ usuario_detalhe.tipo }}</p>

        <div class="linha-info">
            <strong>Status:</strong>
        
            <span class="badge-status {{ 'status-ativo' if usuario_detalhe.ativo else 'status-inativo' }}">
                {{ 'Ativo' if usuario_detalhe.ativo else 'Inativo' }}
            </span>
        
            <form method="post"
                  action="{{ url_for('admin.ativacao_usuario', usuario_id=usuario_detalhe.id) }}">
                <button type="submit" class="btn btn-acao-admin btn-sm">
                    {{ 'Desativar' if usuario_detalhe.ativo else 'Ativar' }}
                </button>
            </form>
        </div>

        <div class="linha-info">
            <strong>Administrador:</strong>
        
            <span class="badge-admin">
                {{ 'Sim' if usuario_detalhe.is_admin else 'Não' }}
            </span>
        
            {% if usuario_detalhe.is_admin %}
            <form method="post"
                  action="{{ url_for('admin.alternar_admin_usuario', usuario_id=usuario_detalhe.id) }}">
                <button type="submit" class="btn btn-acao-admin btn-sm">
                    Remover Admin
                </button>
            </form>
            {% endif %}
        </div>


        <!-- ==================================================
        AÇÕES ADMINISTRATIVAS
        =================================================== -->
        {% include "usuarios/crud_usuarios.html" %}

    </div>

    <!-- ======================================================
    FOTO DE PERFIL (SUSPENSA À DIREITA)
    ====================================================== -->
    {% if usuario_detalhe.foto_perfil %}
    <div class="usuario-foto">
        <img src="{{ url_for('static', filename='fotos_perfil/' ~ usuario_detalhe.foto_perfil) }}"
             width="160"
             class="rounded shadow-sm foto-borda-fina">
    </div>
    {% endif %}

</div>
