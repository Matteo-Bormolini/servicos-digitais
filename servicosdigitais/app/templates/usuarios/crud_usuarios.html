<!-- ==========================================================
AÇÕES ADMINISTRATIVAS — USUÁRIO
========================================================== -->

<div class="mt-4">

    <!-- RESETAR SENHA -->
    <form method="post"
          action="{{ url_for('admin.resetar_senha_usuario', usuario_id=usuario_detalhe.id) }}"
          class="d-inline"
          onsubmit="return confirm('Deseja realmente resetar a senha deste usuário?')">

        <button type="submit" class="btn btn-sm btn-acao-admin">
            Resetar Senha
        </button>
    </form>

    <!-- ==EXCLUSÃO== -->

    {% if not usuario_detalhe.is_admin %}

    <div class="mt-3">

        <form method="post"
              action="{{ url_for('admin.excluir_usuario', usuario_id=usuario_detalhe.id) }}"
              class="d-inline"
              onsubmit="return confirm('Deseja desativar este usuário?')">

            <input type="hidden" name="metodo" value="soft">

            <button type="submit" class="btn btn-sm btn-acao-admin">
                Desativar Conta
            </button>
        </form>

        <form method="post"
              action="{{ url_for('admin.excluir_usuario', usuario_id=usuario_detalhe.id) }}"
              class="d-inline ms-2"
              onsubmit="return confirm('ATENÇÃO: esta ação é permanente. Deseja continuar?')">

            <input type="hidden" name="metodo" value="hard">

            <button type="submit" class="btn btn-sm btn-acao-admin">
                Excluir Permanentemente
            </button>
        </form>

    </div>

    {% else %}

    <div class="alert alert-warning mt-4 aviso-admin">
        Administradores não podem ser excluídos.
        Utilize apenas a desativação ou remoção de privilégios.
    </div>

    {% endif %}

</div>
